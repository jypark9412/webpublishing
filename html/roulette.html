<!DOCTYPE html>
<html lang="ko">
	<%-include('inc/header.html')%>
	<%-include('inc/widget.html')%>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script> 
<body>
  <div class="roulette-container offset-mb-xl container-sm">
    <header class="g-3">
      <div class="header-wrap d-grid a-center justify-content-between">
        <a class="link-back" href="" title="ë’¤ë¡œê°€ê¸°"><i class="icon-arrow-left"></i><span class="text-indent">ë’¤ë¡œê°€ê¸°</span></a>
        <!-- [D] NP-2544 ë¸”ë£¨ë‹· : new -->
        <a class="btn-transparent btn-group me-3 new" href="roulette_result.html" title="ë‹¹ì²¨ ë‚´ì—­">
          ë‹¹ì²¨ ë‚´ì—­
        </a>
      </div>
    </header>
    <div class="roulette-wrap">
      <div class="title">
        <h3 class="text-indent">ê½ ì—†ëŠ” í–‰ìš´ì˜ ë£°ë ›</h3>
        <p class="text-indent">ì§€ê¸ˆ ë°”ë¡œ ë„ì „í•´ ë³´ì„¸ìš”!</p>
      </div>
      
      <!-- NP-2261 ë£°ë › ë„ì „ ê¸°íšŒ ìœ„ì¹˜ ë³€ê²½ -->
      <div class="roulette-count">
        <p class="text">ë„ì „ê¸°íšŒ</p>
        <strong class="num">000</strong>
      </div>
      <div class="roulette-area">
        <div class="roulette-box">
          <!-- ë£°ë › ê²Œì„ ì˜ì—­ -->
          <button type="button" class="btn-start">
            <span class="text-indent">ë£°ë › ë„ì „</span>
          </button>
          <div class="roulette">
            <canvas width="356" height="356"></canvas>
            <ul>
              <li class="item">
                <img src="/static/images/roulette/gift_starbucksT2.png" alt="ê²½í’ˆ ì´ë¯¸ì§€">
              </li>
              <li class="item">
                <img src="/static/images/roulette/gift_mc.png" alt="ê²½í’ˆ ì´ë¯¸ì§€">
              </li>
              <li class="item">
                <img src="/static/images/roulette/gift_starbucksT.png" alt="ê²½í’ˆ ì´ë¯¸ì§€">
              </li>
              <li class="item">
                <img src="/static/images/roulette/gift_jaws.png" alt="ê²½í’ˆ ì´ë¯¸ì§€">
              </li>
              <li class="item">
                <img src="/static/images/roulette/gift_back.png" alt="ê²½í’ˆ ì´ë¯¸ì§€">
              </li>
              <li class="item">
                <img src="/static/images/roulette/gift_ediya.png" alt="ê²½í’ˆ ì´ë¯¸ì§€">
              </li>
            </ul>
          </div>
        </div>
      </div>
      <!-- ë£°ë › ë  ë°°ë„ˆ -->
      <div class="roulette-banner"></div>
    </div>
    
    <!-- ë£°ë › ì •ë³´ ë¦¬ìŠ¤íŠ¸ -->
    <div class="list-guide">
    <ul class="detail">
      <li class="text-muted">ìŠ¤íƒ¬í”„ê°€ 10ê°œ ì ë¦½ë˜ë©´ ë£°ë ›ì— 1íšŒ ë„ì „í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li class="text-muted">ë‹¹ì²¨ëœ ê²½í’ˆì€ ìš´ì˜ì í™•ì¸ í›„ ìµœì¢… ì§€ê¸‰ë˜ë©°, ìì„¸í•œ ì‚¬í•­ì€ ë‹¹ì²¨ë‚´ì—­ ë³´ê¸° &#62; ì•ˆë‚´ í˜ì´ì§€ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.</li>
      <li class="text-muted">ë£°ë › ê²½í’ˆì€ ì‚¬ì „ ê³ ì§€ ì—†ì´ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
    </ul>
  </div>
    <!-- //ë£°ë › ì˜ì—­ -->

    <!-- íœ´ëŒ€ì „í™” ë²ˆí˜¸ í™•ì¸ íŒì—… -->
    <div class="modal fade" id="resultModal1" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered flex-column j-center">
        <div class="modal-content">
          <div class="bg-modal">
            <div class="modal-header">
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close">
                <span class="text-indent">ë‹«ê¸°</span>
              </button>
            </div>
            <div class="modal-body text-center pb-6 px-4">
              <div class="d-flex flex-column a-center">
                <p class="icon"></p>
                <div class="title title-lg mt-3">í™•ì¸í•´ ì£¼ì„¸ìš”</div>
                <div class="text">ê²½í’ˆ ë‹¹ì²¨ ì‹œ ì•„ë˜<br> íœ´ëŒ€ì „í™” ë²ˆí˜¸ë¡œ ë°œì†¡ë©ë‹ˆë‹¤.</div>
                <div class="number-area">
                  <p>000-0000-0000</p>
                  <a href="" target="_blank" class="btn btn-change">ë³€ê²½</a>
                </div>
                <p class="notice mt-2">ì˜ëª»ëœ íœ´ëŒ€ì „í™” ë²ˆí˜¸ë¡œ ê¸°í”„í‹°ì½˜ì´ ë°œì†¡ëœ ê²½ìš° ì¬ë°œì†¡ì´ ë¶ˆê°€í•©ë‹ˆë‹¤.</p>
              </div>
            </div>
          </div>
          <button class="btn btn-primary rounded-0" data-bs-dismiss="modal" onclick="$('#appReviewModal').modal('show');">í™•ì¸</button> <!--[D] NP-2540 rounded-0 ì¶”ê°€-->
        </div>
      </div>
    </div>

    <!-- ë‹¹ì²¨ í™•ì¸ íŒì—… -->
    <div class="modal fade" id="resultModal2" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered flex-column j-center">
        <div class="modal-content">
          <div class="bg-modal">
            <div class="modal-body text-center py-6 px-4">
              <div class="d-flex flex-column a-center">
                <p class="icon"></p>
        
                <div class="title mt-3">

                  <div class="giveaway">
                    <p class="text-gray">ë¸Œëœë“œëª…</p>
                    ìƒí’ˆëª…
                  </div>

                  ë‹¹ì²¨ì„ ì¶•í•˜í•©ë‹ˆë‹¤
                </div>
                <div class="text">ê²½í’ˆì€ ì˜ì—…ì¼ ê¸°ì¤€<br><span class="color-primary">3ì¼ ë‚´ ë°œì†¡</span>ë©ë‹ˆë‹¤.</div>
              </div>
            </div>
          </div>
          <button class="btn btn-primary rounded-0" data-bs-dismiss="modal">í™•ì¸</button> <!--[D] NP-2540 rounded-0 ì¶”ê°€-->
        </div>
      </div>
    </div>
  </div>

  <!-- ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²˜ë¦¬ ì•ˆë‚´ íŒì—… -->
  <div class="modal fade" id="blacklistModal" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered flex-column j-center">
      <div class="modal-content">
        <div class="bg-modal">
          <div class="modal-header">
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close">
              <span class="text-indent">ë‹«ê¸°</span>
            </button>
          </div>
          <div class="modal-body text-center py-6 px-4">
            <div class="d-flex flex-column a-center">
              <p class="icon"></p>
              <div class="title mt-3">ì„œë¹„ìŠ¤ ì´ìš©ì´ ì œí•œë˜ì—ˆì–´ìš”.</div>
              <div class="section">
                ìŠ¤íƒ¬í”„ ì‚¬ìš© í›„<br> 
                <span class="color-primary">êµ¬ë§¤ ì·¨ì†Œ ê¸ˆì•¡ì´ ì¼ì • ìˆ˜ì¤€ì„ ì´ˆê³¼</span>í•˜ì—¬<br>
                ì´ìš© ì•½ê´€ì— ë”°ë¼ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.
              </div>
              <p class="notice mb-8">ê´€ë ¨í•˜ì—¬ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹¤ ê²½ìš°,<br>
                ë§ˆì´í˜ì´ì§€ <a href="" class="text-decoration-underline">ë¬¸ì˜í•˜ê¸°</a>ë¥¼ ì´ìš©í•´ ì£¼ì„¸ìš”.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ì•± ë¦¬ë·° ì‘ì„± íŒì—… -->
  <div class="modal fade stamply" id="appReviewModal" tabindex="-1" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered flex-column j-center">
      <div class="modal-content">
        <div class="bg-modal">
          <div class="modal-body text-center py-6 px-4">
            <div class="d-flex flex-column a-center">
              <p class="icon"></p>
              <div class="title mt-3">ìŠ¤íƒ¬í”Œë¦¬ ì•± ì–´ë– ì‹ ê°€ìš”?</div>
              <p class="body-md text-gray-200">ë³„ì  í‰ê°€í•˜ê³  ì˜ê²¬ì„ ë‚¨ê²¨ì£¼ì„¸ìš”.<br>ì €í¬ì—ê²Œ í° ë„ì›€ê³¼ í˜ì´ ë©ë‹ˆë‹¤ ğŸ™‚</p>
            </div>
          </div>
        </div>
        <button class="btn btn-primary fw-600 rounded-0" data-bs-dismiss="modal">ì•± í‰ê°€í•˜ê¸°</button>
      </div>
      <a href="" target="_blank" class="btn-text-close text-center underline" data-bs-dismiss="modal" aria-label="Close" onclick="iniGame()">ë‹¤ìŒì— í• ê²Œìš”</a>
    </div>
  </div>
<<<<<<< HEAD
  <!-- //ì•± ë¦¬ë·° ì‘ì„± íŒì—… -->
=======
>>>>>>> 326c064c09e6a4dab7381cff58942ef3d578e54c

</body>
<script>
//ë£°ë › ì´ë²¤íŠ¸ JS
$(document).ready(function() {
  //NP-2261 ë£°ë › ì•„ì´í…œ ë°°ì¹˜
  const rouletteRadius = 178; // ë°˜ì§€ë¦„
  const itemDistance = 80; // ì•„ì´í…œê³¼ ì› ì¤‘ì‹¬ ê°„ì˜ ê±°ë¦¬
  const numItems = 6;
  const angleStep = 360 / numItems;
  const items = document.querySelectorAll('.item');
  
  items.forEach((item, index) => {
    const angle = index * angleStep;
    const radians = (angle + 90) * (Math.PI / 180);
    const x = (rouletteRadius - itemDistance) * Math.cos(radians);
    const y = (rouletteRadius - itemDistance) * Math.sin(radians);
    item.style.left = `calc(50% + ${x}px)`;
    item.style.top = `calc(50% - ${y}px)`;
    item.style.transform = `translate(-50%, -50%) rotate(${-angle}deg)`;
  });

  var gift;
  var rotationPos = new Array(60,120,180,240,300,360);
  iniGame = function(num){
    gift = num;
    TweenLite.killTweensOf($(".roulette")); //ëª¨ë“  ëª¨ì…˜ ë¦¬ì…‹
    TweenLite.to($(".roulette"), 0, {css:{rotation:rotationPos[gift]}}); //ë£°ë › íšŒì „ ì‹œì‘
    TweenLite.from($(".roulette"),5, {css:{rotation:-3000}, onComplete:endGame, ease:Sine.easeOut});
    TweenLite.set($(".btn-start").addClass('none'), {disabled:true}); // ë²„íŠ¼ ë¹„í™œì„±í™”
  }

  function endGame(){
    setTimeout(openPopup, 100);
    TweenLite.set($(".btn-start").removeClass('none'), {disabled:false}); // ë²„íŠ¼ í™œì„±í™”
    TweenLite.from($(".btn-start").removeClass('none'), {delay: 500});
  }

  function openPopup() {
  //ë‹¹ì²¨ ë‚´ì—­ í™•ì¸ íŒì—…
   $("#resultModal2").modal("show");
   //NP-2261 í­ì£½ ëª¨ì…˜
     document.querySelector("#resultModal2 .modal-dialog").insertAdjacentHTML('afterbegin', `
     <div class="position-absolute z-3"><lottie-player src="https://lottie.host/6e2beb64-9e89-42c0-9654-af4f5baa86a4/EX0FAIi45q.json" background="transparent" speed="1" style="width: 100%; height: 100%;" loop autoplay></lottie-player></div>
  `);
  }

  //iOS ëŒ€ì‘
  const appHeight = () => {
  const doc = document.documentElement
    doc.style.setProperty('--app-height', $(window.innerHeight)+px);
  }
  window.addEventListener('resize', appHeight);
  appHeight();
});


$(function() {
  var clicked = 0;
  //ì‹œì‘ ë²„íŠ¼ ëˆ„ë¥¼ ë•Œ
  $(".btn-start").on("click",function(){
    $("#resultModal1").modal("show"); //íœ´ëŒ€ë²ˆí˜¸ í™•ì¸ íŒì—…
    //ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²˜ë¦¬ ì•ˆë‚´ íŒì—…
    //$("#blacklistModal").modal("show"); 
    TweenLite.to($(".roulette"), 0, {css:{rotation:rotationPos[0]}}); // íŒì—… ë…¸ì¶œ ì‹œ ë£°ë › ì´ë²¤íŠ¸ ë©ˆì¶¤
    if( clicked <= 0 ){
      iniGame(Math.floor(Math.random() * 6));
    } else if( clicked >= 1) {
      event.preventDefault();
    }
    clicked ++
  });
})

//NP-2261 ë ë°°ë„ˆ íš¨ê³¼
const rouletteWrap = document.querySelector('.roulette-banner');
let backgroundPositionX = 10; 
function increaseBackgroundPositionX() {
  backgroundPositionX -= 1; 
  rouletteWrap.style.setProperty('background-position-x', `${backgroundPositionX}px`);
}
setInterval(increaseBackgroundPositionX, 24); 
</script>
</html>